<!DOCTYPE html>
{% load static wagtailimages_tags i18n %}
<html lang="en-GB">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cash Matters - A Pro-Cash Movement</title>
  <!-- Favicon -->
  <link rel="icon" type="image/jpeg" href="{% static 'favicon.jpg' %}">
  <link rel="shortcut icon" type="image/jpeg" href="{% static 'favicon.jpg' %}">
  <!-- Bootstrap 5.3 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Google Fonts: Questrial -->
  <link href="https://fonts.googleapis.com/css?family=Questrial&display=swap" rel="stylesheet" />
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
  <!-- Custom CSS -->
  <link rel="stylesheet" href="{% static 'css/style.css' %}" />

  <!-- Header Navigation Styles -->
  <style>
 
   
    /* Titles - ITC Avant Garde Gothic */
    h1, h2, h3, h4, h5, h6,
    .navbar, .navbar * {
      font-family: "ITC Avant Garde Gothic", sans-serif;
      font-weight: 500;
    }

    /* Body / Description - Inter */
    body, p, li, span, a, label, .lead, .text-muted, .subtitle, .description {
      font-family: "Inter", sans-serif;
      font-weight: 400;
    }
    .hero-text-panel{
      color: transparent !important;
    }
.hero-text-panel {
    background: none !important;
    background-color: transparent !important;
    box-shadow: none !important;
    backdrop-filter: none !important;
    border: none !important;
}

    .navbar .nav-link {
      font-weight: 500;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      font-size: 0.85rem;
      position: relative;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Modern hover animations for menu items */
    .navbar .nav-link::before {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      width: 0;
      height: 2px;
      background: linear-gradient(90deg, #4CD1C2, #8de4af);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      transform: translateX(-50%);
    }

    .navbar .nav-link:hover::before,
    .navbar .nav-link.active::before {
      width: 100%;
    }

    .navbar .nav-link:hover {
      color: #4CD1C2 !important;
      transform: translateY(-2px);
    }

    /* Search button animation */
    .search-trigger {
      transition: all 0.3s ease;
    }

    .search-trigger:hover {
      color: #4CD1C2 !important;
      transform: scale(1.15);
    }

    /* Support Cash CTA Button */
    .btn-support-cash {
      background: linear-gradient(135deg, #4CD1C2 0%, #3bbcae 100%);
      color: #002e26 !important;
      border: none;
      padding: 0.6rem 1.5rem;
      border-radius: 25px;
      font-weight: 400;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-size: 0.8rem;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 4px 15px rgba(76, 209, 194, 0.3);
    }

    .btn-support-cash:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(76, 209, 194, 0.4);
      background: linear-gradient(135deg, #5ce0cf 0%, #4CD1C2 100%);
      color: #002e26 !important;
    }

    /* Author link in hero section */
    .author-link {
      transition: all 0.3s ease;
    }

    .author-link:hover {
      color: #4CD1C2 !important;
      opacity: 1 !important;
    }

    /* Podcast Card Styles */
    .podcast-card {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .podcast-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15) !important;
    }

    .podcast-thumb-wrapper {
      overflow: hidden;
    }

    .podcast-thumb-wrapper img {
      transition: transform 0.4s ease;
    }

    .podcast-card:hover .podcast-thumb-wrapper img {
      transform: scale(1.05);
    }

    .podcast-play-overlay {
      opacity: 0.9;
      transition: all 0.3s ease;
    }

    .podcast-card:hover .podcast-play-overlay {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1.1);
    }
    .hero-wrapper{
      min-height: fit-content !important;
      padding: 0 !important;
    }

    .play-icon-circle-lg {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #4CD1C2 0%, #3bbcae 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #002e26;
      font-size: 1.5rem;
      box-shadow: 0 4px 20px rgba(76, 209, 194, 0.4);
    }
    /* Desktop default */
.hero-image-panel {
  border-radius: 20px;
  overflow: hidden;
}
@media (min-width: 992px) {
  .hero-image-panel {
    border-bottom-left-radius: 0 !important;
    border-top-left-radius: 0 !important;
  }
}
/* Mobile: remove bottom radius */
@media (max-width: 992px) {
  .hero-image-panel {
    border-bottom-left-radius: 0 !important;
    border-bottom-right-radius: 0 !important;
  }
    .hero-text-panel {
      color: transparent !important;
    border-top-left-radius: 0 !important;
    border-top-right-radius: 0 !important;
  }
  
}

@media (max-width: 992px) {
  /* Hide everything in the navbar except the logo */
    .navbar-toggler {
    display: none !important;
  }


}
    /* Author avatar in hero */
    .author-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      object-fit: cover;
      display: inline-block;
      vertical-align: middle;
      border: 2px solid rgba(255,255,255,0.12);
    }
    .hero-author-wrap {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }


  .hero-display {
    position: relative;
    width: 100%;
    min-height: 100vh;
    display: flex;
    align-items: center;
    padding: 40px 0 80px;
    overflow: hidden;
  }

  .featured-parallax-bg {
    position: absolute;
    top: -20px;
    left: -20px;
    right: -20px;
    bottom: -20px;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    transition: background-position 0.1s ease-out;
    will-change: background-position;
  }

  .featured-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(
      to bottom,
      rgba(0,0,0,0.2) 0%,
      rgba(0,0,0,0.5) 50%,
      rgba(0,0,0,0.85) 100%
    );
    z-index: 1;
  }

  .featured-content-wrap {
    position: relative;
    z-index: 2;
    width: 100%;
  }

  .featured-main-title {
    font-size: 4rem;
    font-weight: 400;
    line-height: 1.1;
    max-width: 1000px;
    text-shadow: 0 2px 10px rgba(0,0,0,0.3);
  }

  .featured-small-card {
    align-items: center;
    transition: transform 0.3s ease;
    background: rgba(0,0,0,0.3);
    padding: 10px;
    border-radius: 8px;
    backdrop-filter: blur(5px);
  }

  .featured-small-card:hover {
    transform: translateY(-5px);
    background: rgba(0,0,0,0.5);
  }

  .featured-small-thumb {
    width: 90px;
    height: 70px;
    object-fit: cover;
  }

  .carousel-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    border: 2px solid rgba(255,255,255,0.5);
    background: transparent;
    padding: 0;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .carousel-dot.active {
    background: white;
    border-color: white;
    transform: scale(1.2);
  }

  .btn-carousel {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: rgba(255,255,255,0.2);
    border: 1px solid rgba(255,255,255,0.3);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    transition: all 0.3s ease;
  }

  .btn-carousel:hover {
    background: rgba(255,255,255,0.3);
    border-color: rgba(255,255,255,0.5);
    color: white;
  }

  .btn-mint {
    background: linear-gradient(135deg, #4CD1C2 0%, #3bbcae 100%);
    color: #002e26;
    border: none;
    transition: all 0.3s ease;
  }

  .btn-mint:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.2);
    color: #002e26;
  }

  .text-mint {
    color: #4CD1C2;
  }

  .author-avatar {
    object-fit: cover;
    border: 2px solid rgba(255,255,255,0.3);
  }

  @media (max-width: 992px) {
    .featured-main-title {
      font-size: 2.5rem;
    }
    
    .hero-display {
      min-height: 80vh;
      padding: 30px 0 60px;
    }
  }

  @media (max-width: 768px) {
    .featured-main-title {
      font-size: 2rem;
    }
    
    .featured-bottom-cards {
      display: none;
    }
    
    .hero-display {
      min-height: 70vh;
    }
  }
    
  </style>
</head>

<body class="bg-light-cream">
  <!-- =========================================
         1. HEADER & HERO
    ========================================== -->
  <div class="hero-wrapper">
    <nav class="navbar navbar-expand-lg navbar-dark pt-3 pb-3">
      <div class="container">
        <a class="navbar-brand" href="{% url 'index' %}">
          <img src="{% static 'home-page-images/logo.png' %}" alt="Cash Matters" height="40">
        </a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav"
          aria-controls="mainNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-center" id="mainNav">
          <ul class="navbar-nav gap-lg-4 gap-2 mb-3 mb-lg-0 align-items-center">
            <li class="nav-item"><a class="nav-link text-white" href="{% url 'news' %}">News & Articles</a></li>
            <li class="nav-item"><a class="nav-link text-white" href="{% url 'news' %}?category=podcast">Podcast</a>
            </li>
            <li class="nav-item"><a class="nav-link text-white" href="{% url 'new_page' %}">Why Cash Matters</a></li>
            <li class="nav-item"><a class="nav-link text-white" href="{% url 'about' %}">About Us</a></li>
            <!-- Support Cash button for mobile -->
            <li class="nav-item d-lg-none mt-2"><a href="{% url 'support' %}" class="btn btn-support-cash">Support Cash </a></li>
            <!-- Write for Us link moved to footer only -->
          </ul>
        </div>
        <div class="d-flex align-items-center gap-3">
          <button class="btn text-white p-0 search-trigger" aria-label="Search">
            <i class="bi bi-search fs-5"></i>
          </button>
          <!-- Language Switcher (Google Translate) -->
          <div class="dropdown">
            <button class="btn text-white p-0 dropdown-toggle d-flex align-items-center gap-1" type="button"
              id="langDropdown" data-bs-toggle="dropdown" aria-expanded="false" style="background: none; border: none;">
              <i class="bi bi-globe2"></i>
              <span class="small" id="current-lang">EN</span>
            </button>
            <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="langDropdown" style="min-width: 150px;">
              <li><a class="dropdown-item d-flex align-items-center gap-2 lang-switch-btn active" href="#"
                  data-lang="en" onclick="translatePage('en'); return false;"><span>ðŸ‡¬ðŸ‡§</span> English</a></li>
              <li><a class="dropdown-item d-flex align-items-center gap-2 lang-switch-btn" href="#" data-lang="de"
                  onclick="translatePage('de'); return false;"><span>ðŸ‡©ðŸ‡ª</span> German</a></li>
              <li><a class="dropdown-item d-flex align-items-center gap-2 lang-switch-btn" href="#" data-lang="fr"
                  onclick="translatePage('fr'); return false;"><span>ðŸ‡«ðŸ‡·</span> French</a></li>
              <li><a class="dropdown-item d-flex align-items-center gap-2 lang-switch-btn" href="#" data-lang="it"
                  onclick="translatePage('it'); return false;"><span>ðŸ‡®ðŸ‡¹</span> Italian</a></li>
              <li><a class="dropdown-item d-flex align-items-center gap-2 lang-switch-btn" href="#" data-lang="es"
                  onclick="translatePage('es'); return false;"><span>ðŸ‡ªðŸ‡¸</span> Spanish</a></li>
              <li><a class="dropdown-item d-flex align-items-center gap-2 lang-switch-btn" href="#" data-lang="nl"
                  onclick="translatePage('nl'); return false;"><span>ðŸ‡³ðŸ‡±</span> Dutch</a></li>
            </ul>
          </div>
          <a href="{% url 'support' %}" class="btn btn-support-cash d-none d-lg-inline-block">
            Support Cash 
          </a>
        </div>
      </div>
    </nav>
  </div>
  <section class="hero-display position-relative" id="featured-hero-section">
    <!-- Background image with parallax effect -->
    <div id="featured-parallax-bg" class="featured-parallax-bg" 
        style="background-image: url('{% if hero_posts.0.wide_thumbnail %}{{ hero_posts.0.wide_thumbnail.file.url }}{% else %}{% static 'images/homepage/featured-fallback.jpg' %}{% endif %}');">
    </div>
    
    <div class="featured-overlay"></div>

    <div class="container featured-content-wrap text-white position-relative">
      <div class="featured-text-panel" style="color: transparent !important;">
        <!-- Content Type Badge -->
        <div class="featured-content-type-badge mb-3">
          <span id="featured-type-badge" class="badge rounded-pill px-3 py-2 fw-bold text-uppercase"
                style="font-size: 0.75rem; background: linear-gradient(135deg, #4CD1C2 0%, #3bbcae 100%); color: #002e26;">
            <i id="featured-type-icon" class="bi bi-star-fill me-1"></i>
            <span id="featured-type-text">
              {% if hero_posts.0.content_type %}{{ hero_posts.0.get_content_type_display }}{% else %}Cover Story{% endif %}
            </span>
          </span>
        </div>

        <!-- Main Title -->
        <h1 id="featured-slide-title" class="featured-main-title text-white   mb-4">
          {% if hero_posts %}
            {{ hero_posts.0.title }}
          {% else %}
            Cash is simple, safe, and <span class="text-mint">for everyone</span>
          {% endif %}
        </h1>

        <!-- Date -->
        <!-- <span id="featured-slide-date" class="text-white opacity-75 small d-block mb-3">
          <i class="bi bi-clock me-1"></i>
          {% if hero_posts %}{{ hero_posts.0.date|date:"M d, Y" }}{% else %}Latest{% endif %}
        </span> -->

        <!-- Author Section -->
        <!-- <div class="featured-author-wrap d-flex align-items-center gap-2 mb-4">
          <a id="featured-author-link" href="{% if hero_posts.0.author_profile %}{% url 'author_profile_by_id' hero_posts.0.author_profile.id %}{% else %}#{% endif %}">
            {% if hero_posts and hero_posts.0.author_profile and hero_posts.0.author_profile.profile_image %}
              <img id="featured-author-avatar" src="{{ hero_posts.0.author_profile.profile_image.file.url }}" 
                  alt="{{ hero_posts.0.author_profile.name }}" class="author-avatar rounded-circle" width="40" height="40">
            {% elif hero_posts and hero_posts.0.author_image %}
              <img id="featured-author-avatar" src="{{ hero_posts.0.author_image.file.url }}" 
                  alt="{{ hero_posts.0.author }}" class="author-avatar rounded-circle" width="40" height="40">
            {% else %}
              <img id="featured-author-avatar" src="{% static 'images/author-default.jpg' %}" 
                  alt="Author" class="author-avatar rounded-circle" width="40" height="40">
            {% endif %}
          </a>

          {% if hero_posts.0.author_profile %}
            <a id="featured-slide-author" href="{% url 'author_profile_by_id' hero_posts.0.author_profile.id %}"
              class="text-white opacity-75 small text-decoration-none author-link">
              {{ hero_posts.0.author_profile.name }}
            </a>
          {% elif hero_posts.0.author %}
            <a id="featured-slide-author" href="#" class="text-white opacity-75 small text-decoration-none author-link">
              {{ hero_posts.0.author }}
            </a>
          {% endif %}
        </div> -->

        <!-- CTA Button -->
        <a id="featured-slide-link" href="{% if hero_posts %}{{ hero_posts.0.url_path }}{% else %}#{% endif %}" 
          style="max-width: 220px; width: 100%;" class="btn btn-mint   py-2 rounded-2 ">
          Read the Story   
        </a>

        <div class="featured-carousel-nav mt-auto pt-4">
          <div class="d-flex align-items-center gap-3">
            <div class="carousel-dots d-flex gap-2" id="featured-carousel-dots">
              {% for post in hero_posts %}
                <button class="carousel-dot {% if forloop.first %}active{% endif %}" 
                        data-slide="{{ forloop.counter0 }}" 
                        data-image="{% if post.wide_thumbnail %}{{ post.wide_thumbnail.file.url }}{% endif %}"
                        data-title="{{ post.title|escapejs }}"
                        data-author="{% if post.author_profile %}{{ post.author_profile.name }}{% elif post.author %}{{ post.author }}{% endif %}"
                        data-author-id="{% if post.author_profile %}{{ post.author_profile.id }}{% endif %}"
                        data-author-avatar="{% if post.author_profile.profile_image %}{{ post.author_profile.profile_image.file.url }}{% elif post.author_image %}{{ post.author_image.file.url }}{% endif %}"
                        data-content-type="{{ post.get_content_type_display }}"
                        data-url="{{ post.url_path }}"
                        aria-label="Slide {{ forloop.counter }}">
                </button>
              {% empty %}
                <button class="carousel-dot active" data-slide="0" aria-label="Slide 1"></button>
              {% endfor %}
            </div>
            
            <div class="carousel-controls d-flex gap-2 ms-auto">
              <button class="btn btn-carousel" id="featured-prev" aria-label="Previous">
                <i class="bi bi-chevron-left"></i>
              </button>
              <button class="btn btn-carousel" id="featured-next" aria-label="Next">
                <i class="bi bi-chevron-right"></i>
              </button>
              <button class="btn btn-carousel" id="featured-pause" aria-label="Pause autoplay">
                <i class="bi bi-pause-fill" id="pause-icon"></i>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Bottom Cards -->
      <div class="featured-bottom-cards pt-2 ">
        <div class="row g-4">
          {% for post in hero_posts|slice:"1:4" %}
            <div class="col-lg-4 col-md-6">
              <a href="{{ post.url_path }}" class="featured-small-card d-flex gap-3 text-white text-decoration-none">
                <img src="{% if post.wide_thumbnail %}{{ post.wide_thumbnail.file.url }}{% else %}{% static 'images/homepage/featured-fallback.jpg' %}{% endif %}"
                    class="featured-small-thumb rounded-2"
                    alt="{{ post.title }}">
                <div>
                  <div class="small opacity-75 text-uppercase">
                    {{ post.get_content_type_display }}
                  </div>
                  <div class=" ">
                    {{ post.title|truncatechars:80 }}
                  </div>
                </div>
              </a>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
 

  <!-- Hero Carousel Data (for JavaScript) -->
  <script type="application/json" id="hero-posts-data">
      [
        {% for post in hero_posts %}
        {
          "id": {{ post.id }},
          "title": "{{ post.title|escapejs }}",
          "intro": "{{ post.intro|escapejs }}",
          "url": "{{ post.url_path }}",
          "author": "{% if post.author_profile %}{{ post.author_profile.name|escapejs }}{% elif post.author %}{{ post.author|escapejs }}{% else %}{% endif %}",
          "author_id": {% if post.author_profile %}{{ post.author_profile.id }}{% else %}null{% endif %},
          "author_name": "{% if post.author %}{{ post.author|escapejs }}{% else %}{% endif %}",
          "author_image": "{% if post.author_profile and post.author_profile.profile_image %}{{ post.author_profile.profile_image.file.url }}{% elif post.author_image %}{{ post.author_image.file.url }}{% else %}{% static 'images/author-default.jpg' %}{% endif %}",
          "image": "{% if post.wide_thumbnail %}{{ post.wide_thumbnail.file.url }}{% elif post.tall_thumbnail %}{{ post.tall_thumbnail.file.url }}{% else %}{% static 'images/homepage/featured-fallback.jpg' %}{% endif %}",
          "type": "{% if post.article_types.first %}{{ post.article_types.first.name|lower }}{% else %}news{% endif %}",
          "vimeo_id": "{{ post.vimeo_id|default:'' }}",
          "has_video": {% if post.vimeo_id %}true{% else %}false{% endif %}
        }{% if not forloop.last %},{% endif %}
        {% empty %}
        {
          "id": 0,
          "title": "Cash is simple, safe, and for everyone",
          "intro": "Research, reporting, and resources that show why physical cash remains essential around the world.",
          "url": "/why-cash-matters/",
          "author": "",
          "image": "{% static 'images/homepage/featured-fallback.jpg' %}",
          "type": "news",
          "vimeo_id": "",
          "has_video": false
        }
        {% endfor %}
      ]
    </script>
 </section>
  <!-- =========================================
         2. FEATURED CONTENT (GSAP ANIMATION)
    ========================================== -->
  <section class="featured-section section-bg py-5">
    <div class="container">
      <div class="row mb-5 align-items-end">
        <div class="col-md-8">
          <h2 class="section-title  ">Editor's Pick</h2>
        </div>
        <div class="col-md-4 text-md-end">
          <p class="text-muted small mb-0" style="font-size: 15px;">
            Our latest research, stories,<br />and conversations
          </p>
        </div>
      </div>

      <!-- Stacked Cards Wrapper -->
      <div class="cards-stack-wrapper">
        {% for post in featured_posts %}
        <!-- Card {{ forloop.counter }} -->
        <div class="featured-card card-0{{ forloop.counter }}">
          <div class="row g-0 h-100">
            <div class="col-lg-5 p-5 d-flex flex-column justify-content-between">
              <div class="nav-indicators">
                {% for i in featured_posts %}
                {% if forloop.counter == forloop.parentloop.counter %}
                <span class="active-num">0{{ forloop.counter }}</span>
                {% else %}
                <span class="inactive-num">0{{ forloop.counter }}</span>
                {% endif %}
                {% endfor %}
              </div>
              <h3 class="  display-6 mt-4" style="font-size: 32px !important ;">
                {{ post.title }}
              </h3>
              <p style="font-size: 15px;">
                                {{ post.intro }}

              </p>
               <a id="hero-slide-link" href="{{ post.url }}" style="max-width: 220px;width: 100%;"
                    class="btn btn-mint   px-4 py-2 rounded-2">
                    Read the Story   
                  </a>
           
            </div>
            <div class="col-lg-7">
              {% if forloop.counter == 1 %}
              {% if post.wide_thumbnail %}
              <img src="{{ post.wide_thumbnail.file.url }}" class="img-fluid h-100 w-100 object-fit-cover"
                alt="{{ post.title }}" onerror="this.src='{% static 'images/homepage/featured-01.jpg' %}'" />
              {% elif post.tall_thumbnail %}
              <img src="{{ post.tall_thumbnail.file.url }}" class="img-fluid h-100 w-100 object-fit-cover"
                alt="{{ post.title }}" onerror="this.src='{% static 'images/homepage/featured-01.jpg' %}'" />
              {% else %}
              <img src="{% static 'images/homepage/featured-01.jpg' %}" class="img-fluid h-100 w-100 object-fit-cover"
                alt="{{ post.title }}" />
              {% endif %}
              {% elif forloop.counter == 2 %}
              {% if post.wide_thumbnail %}
              <img src="{{ post.wide_thumbnail.file.url }}" class="img-fluid h-100 w-100 object-fit-cover"
                alt="{{ post.title }}" onerror="this.src='{% static 'images/homepage/featured-02.jpg' %}'" />
              {% elif post.tall_thumbnail %}
              <img src="{{ post.tall_thumbnail.file.url }}" class="img-fluid h-100 w-100 object-fit-cover"
                alt="{{ post.title }}" onerror="this.src='{% static 'images/homepage/featured-02.jpg' %}'" />
              {% else %}
              <img src="{% static 'images/homepage/featured-02.jpg' %}" class="img-fluid h-100 w-100 object-fit-cover"
                alt="{{ post.title }}" />
              {% endif %}
              {% else %}
              {% if post.wide_thumbnail %}
              <img src="{{ post.wide_thumbnail.file.url }}" class="img-fluid h-100 w-100 object-fit-cover"
                alt="{{ post.title }}" onerror="this.src='{% static 'images/homepage/featured-03.jpg' %}'" />
              {% elif post.tall_thumbnail %}
              <img src="{{ post.tall_thumbnail.file.url }}" class="img-fluid h-100 w-100 object-fit-cover"
                alt="{{ post.title }}" onerror="this.src='{% static 'images/homepage/featured-03.jpg' %}'" />
              {% else %}
              <img src="{% static 'images/homepage/featured-03.jpg' %}" class="img-fluid h-100 w-100 object-fit-cover"
                alt="{{ post.title }}" />
              {% endif %}
              {% endif %}
            </div>
          </div>
        </div>
        {% empty %}
        <!-- No featured posts message -->
        <div class="text-center py-5">
          <p class="text-muted">No featured content available yet. Please check back later!</p>
        </div>
        {% endfor %}
      </div>
    </div>
  </section>
  <!-- =========================================
         3.PODCAST  
    ========================================== -->
<section id="podcast-section" class="section-bg py-5">

  <style>
    .podcast-card {
      border-radius: 1rem;
      overflow: hidden;
      height: 360px;
    }

    .podcast-img-wrapper {
      position: relative;
      height: 100%;
    }

    .podcast-img-wrapper img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .podcast-overlay {
      position: absolute;
      inset: 0;
      background: linear-gradient(
        to top,
        rgba(0,0,0,0.85),
        rgba(0,0,0,0.25)
      );
      z-index: 1;
    }

    .podcast-content {
      position: relative;
      z-index: 2;
      height: 100%;
    }

    .mic-icon-circle-lg {
      width: 64px;
      height: 64px;
      background: rgba(255,255,255,0.9);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.8rem;
      color: #000;
    }
  </style>

  <div class="container">

    <!-- Header -->
    <div class="row align-items-end mb-5">
      <div class="col-md-8">
        <h2 class="  mb-2">Podcast</h2>
        <p class="text-muted mb-0" style="font-size: 15px;">
          Conversations that matter about the future of<br>money
        </p>
      </div>
      <div class="col-md-4 text-md-end">
        <a href="{% url 'news' %}?category=podcast"
           class="text-mint   text-decoration-none small" style="font-size: 15px;">
          See all Podcasts 
        </a>
      </div>
    </div>

    <!-- Podcast Grid -->
    <div class="row g-4">

      {% for podcast in podcast_posts %}
      <div class="col-md-4">
        <a href="{{ podcast.url_path }}" class="text-decoration-none">

          <div class="card podcast-card border-0 shadow-sm">

            <div class="podcast-img-wrapper">

              {% if podcast.wide_thumbnail %}
                <img src="{{ podcast.wide_thumbnail.file.url }}"
                     alt="{{ podcast.title }}"
                     onerror="this.onerror=null;this.src='{% static 'images/homepage/featured-fallback.jpg' %}';">
              {% elif podcast.tall_thumbnail %}
                <img src="{{ podcast.tall_thumbnail.file.url }}"
                     alt="{{ podcast.title }}"
                     onerror="this.onerror=null;this.src='{% static 'images/homepage/featured-fallback.jpg' %}';">
              {% else %}
                <img src="{% static 'images/homepage/featured-fallback.jpg' %}"
                     alt="{{ podcast.title }}">
              {% endif %}

              <div class="podcast-overlay"></div>

              <!-- EVERYTHING ON IMAGE -->
              <div class="podcast-content p-4 d-flex flex-column justify-content-between">

                <!-- Top -->
                <div class="d-flex justify-content-between align-items-start">
                  <span class="badge bg-dark bg-opacity-75">
                    <i class="bi bi-mic-fill me-1"></i> Podcast
                  </span>

                  <!-- {% if podcast.duration %}
                  <span class="badge bg-dark bg-opacity-75">
                    <i class="bi bi-clock me-1"></i>{{ podcast.duration }}
                  </span>
                  {% endif %} -->
                </div>

                <!-- Center MIC icon -->
                <div class="text-center">
                  <div class="mic-icon-circle-lg mx-auto">
                    <i class="bi bi-mic-fill"></i>
                  </div>
                </div>

                <!-- Bottom -->
                <div>
                  <!-- <div class="small text-white-50 mb-1">
                    {{ podcast.date|date:"M Y" }}
                  </div> -->

                  <h5 class="  text-white mb-2">
                    {{ podcast.title }}
                  </h5>

            
                </div>

              </div>
            </div>

          </div>
        </a>
      </div>
      {% endfor %}

    </div>

    <!-- Listen More -->
    <div class="text-center mt-5">
      <a href="{% url 'news' %}?category=podcast"
         class="btn btn-mint   px-4 py-2 rounded-2">
        <i class="bi bi-mic-fill me-2"></i>Listen to the Podcast
      </a>
    </div>

  </div>
</section>


  <!-- =========================================
         4. STUDIES & REPORTS (NEW SECTION)
    ========================================== -->
  <section class="section-bg py-5">
    <div class="container">
      <!-- Header -->
      <div class="d-flex justify-content-between align-items-end mb-4">
        <div>
          <h2 class="  mb-2">Studies & Reports</h2>
          <p class="text-muted mb-0" >
            In-depth research on cash, payments, and<br />financial inclusion
          </p>
        </div>
        <a href="{% url 'news' %}?category=studies" style="font-size: 15px;" class="text-mint   text-decoration-none small">See all Studies
          & Reports</a>
      </div>

      <!-- Cards Row - Dynamic from Backend -->
      <!-- <div class="row g-4">
        {% for study in studies_posts %}
        <div class="col-md-6">
          <div class="card h-100 border-0 rounded-4 bg-white shadow-sm overflow-hidden news-card">
            <div class="img-wrapper" style="height: 280px">
              {% if study.wide_thumbnail %}
              <img src="{{ study.wide_thumbnail.file.url }}"
                class="w-100 h-100 object-fit-cover transition-img"
                alt="{{ study.title }}" onerror="this.src='{% static 'images/homepage/featured-fallback.jpg' %}'" />
              {% elif study.tall_thumbnail %}
              <img src="{{ study.tall_thumbnail.file.url }}"
                class="w-100 h-100 object-fit-cover transition-img"
                alt="{{ study.title }}" onerror="this.src='{% static 'images/homepage/featured-fallback.jpg' %}'" />
              {% else %}
              <img src="{% static 'images/homepage/featured-fallback.jpg' %}"
                class="w-100 h-100 object-fit-cover transition-img"
                alt="{{ study.title }}" />
              {% endif %}
            </div>

            <div class="card-body p-4 d-flex flex-column">
              <div class="d-flex justify-content-between align-items-center mb-3 small">
                <span class="text-muted  ">
                  {% if study.article_types.first %}{{ study.article_types.first.name }}{% else %}Studies{% endif %} â€¢ {{ study.date|date:"Y" }}
                </span>
                <span class="badge bg-yellow text-dark rounded-pill px-3 py-2 fw-bold"
                  style="font-size: 0.75rem">Studies</span>
              </div>

              <h4 class="fw-bold mb-3 flex-grow-1">
                {{ study.title }}
              </h4>
                 <p class=" mb-3 flex-grow-1" style="font-size: 20px;">
                {{ study.intro|truncatewords:20 }}
                 </p>

              <div class="d-flex justify-content-end gap-3 small text-muted border-top pt-3 mt-auto">
                <a href="{{ study.url_path }}"
                  class="text-reset text-decoration-none hover-mint" title="Read this report">
                  <i class="bi bi-book"></i> Read
                </a>
                <a href="#"
                  onclick="shareArticle(event, '{{ study.title|escapejs }}', '{{ study.url_path }}')"
                  class="text-reset text-decoration-none hover-mint" title="Share this report via social media or link" style="cursor: pointer;">
                  <i class="bi bi-share"></i> Share
                </a>
                {% if study.source_link %}
                <a href="{{ study.source_link }}" target="_blank"
                  class="text-reset text-decoration-none hover-mint" title="View source">
                  <i class="bi bi-box-arrow-up-right"></i> Source
                </a>
                {% endif %}
              </div>
            </div>
          </div>
        </div>
        {% empty %}
        <div class="col-12">
          <div class="alert alert-info text-center">
            <p class="mb-0">No studies & reports available yet. Please check back later!</p>
          </div>
        </div>
        {% endfor %}
      </div> -->



  <section class="section-bg py-5">

  <style>
    .img-overlay-wrapper {
      position: relative;
      height: 420px;
      border-radius: 1rem;
      overflow: hidden;
    }

    .img-overlay-wrapper img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .img-overlay-wrapper .overlay {
      position: absolute;
      inset: 0;
       background: linear-gradient(
        to top,
        rgba(0,0,0,0.75),
        rgba(0,0,0,0.25)
      );
     
    }

    .overlay-content {
      position: relative;
      z-index: 2;
      height: 100%;
    }
    .studies_btn{
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s ease;
    }
      .studies_btn:hover {
        color: #4CD1C2 !important;
      }
  </style>

  <div class="container">
    <div class="row g-4">

      {% for study in studies_posts %}
      <div class="col-md-6">
        <div class="card border-0 shadow-sm h-100">

          <div class="img-overlay-wrapper">

            {% if study.wide_thumbnail %}
              <img src="{{ study.wide_thumbnail.file.url }}"
                   alt="{{ study.title }}"
                   onerror="this.onerror=null;this.src='{% static 'images/homepage/featured-fallback.jpg' %}';">

            {% elif study.tall_thumbnail %}
              <img src="{{ study.tall_thumbnail.file.url }}"
                   alt="{{ study.title }}"
                   onerror="this.onerror=null;this.src='{% static 'images/homepage/featured-fallback.jpg' %}';">

            {% else %}
              <img src="{% static 'images/homepage/featured-fallback.jpg' %}"
                   alt="{{ study.title }}">
            {% endif %}

            <div class="overlay"></div>

            <div class="overlay-content p-4 d-flex flex-column justify-content-end">

              <h4 class="  text-white mb-2">
                {{ study.title }}
              </h4>

              <p class="text-white-50 mb-3">
                {{ study.intro|truncatewords:16 }}
              </p>
              <hr style="color: white;">
              <!-- Buttons -->
              <div class="d-flex gap-3">

                <a href="{{ study.url_path }}"
                   class="studies_btn" style="color: white;">
                         <i class="bi bi-book"></i> Read the Story
                </a>


           

              </div>

            </div>
          </div>

        </div>
      </div>
      {% endfor %}

    </div>
  </div>
</section>




    </div>
  </section>
  <!-- =========================================
         5. Key Facts
    ========================================== -->
  <section id="key-facts" class="section-bg py-5">
    <div class="container">
      <!-- Header -->
      <div class="d-flex justify-content-between align-items-end mb-5">
        <div>
          <h2 class="  mb-2">Key Facts</h2>
          <p class="text-muted mb-0">
            In-depth research on cash, payments, and<br />financial inclusion
          </p>
        </div>
        <a href="{% url 'news' %}?category=key-facts" style="font-size: 15px;" class="text-mint   text-decoration-none small">See all Key
          Facts </a>
      </div>

      <!-- Uniform Grid - Dynamic from Wagtail KeyFactsPage -->
      {% if key_facts %}
      <div class="row g-4">
        {% for fact in key_facts %}
        <div class="col-lg-3 col-md-6">
          <div class="d-flex flex-column gap-4 h-100">
            {% if forloop.counter == 3 %}
            <!-- Column 3: Image Top, Card Bottom (REVERSED) -->
            <div class="fact-img-wrapper rounded-4 overflow-hidden shadow-sm order-1 order-lg-0">
              {% if fact.page_header_image %}
                {% image fact.page_header_image fill-400x300 as bg_img %}
                <img src="{{ bg_img.url }}" class="w-100 h-100 object-fit-cover"
                  alt="{{ fact.alternative_text|default:fact.title }}" />
              {% endif %}
            </div>
            <div class="fact-card bg-white rounded-4 shadow-sm p-4 d-flex flex-column justify-content-between order-0 order-lg-1">
              <div>
                <h2 class="display-3   mb-0" {% if fact.featured_data_color %}style="color: {{ fact.featured_data_color }}"{% endif %}>{{ fact.featured_data }}</h2>
                <p class="small   mt-3">{{ fact.intro|default:fact.title }}</p>
              </div>
              <div class="d-flex gap-3 small text-muted border-top pt-3 mt-2">
                {% if fact.page_header_image %}
                  {% image fact.page_header_image original as dl_img %}
                  <a href="{{ dl_img.url }}"
                    download="keyfact-{{ fact.slug }}.png"
                    class="text-reset text-decoration-none hover-mint"
                    title="Download this fact card as an image">
                    <i class="bi bi-download"></i> Download
                  </a>
                {% endif %}
                <a href="#"
                  onclick="shareKeyFact(event, '{{ fact.intro|default:fact.title|escapejs }}', window.location.href + '#key-facts')"
                  class="text-reset text-decoration-none hover-mint" title="Share this fact via social media or link">
                  <i class="bi bi-share"></i> Share
                </a>
              </div>
            </div>
            {% else %}
            <!-- Columns 1, 2, 4: Card Top, Image Bottom -->
            <div class="fact-card bg-white rounded-4 shadow-sm p-4 d-flex flex-column justify-content-between">
              <div>
                <h2 class="display-3   mb-0" {% if fact.featured_data_color %}style="color: {{ fact.featured_data_color }}"{% endif %}>{{ fact.featured_data }}</h2>
                <p class="small   mt-3">{{ fact.intro|default:fact.title }}</p>
              </div>
              <div class="d-flex gap-3 small text-muted border-top pt-3 mt-2">
                {% if fact.page_header_image %}
                  {% image fact.page_header_image original as dl_img %}
                  <a href="{{ dl_img.url }}"
                    download="keyfact-{{ fact.slug }}.png"
                    class="text-reset text-decoration-none hover-mint"
                    title="Download this fact card as an image">
                    <i class="bi bi-download"></i> Download
                  </a>
                {% endif %}
                <a href="#"
                  onclick="shareKeyFact(event, '{{ fact.intro|default:fact.title|escapejs }}', window.location.href + '#key-facts')"
                  class="text-reset text-decoration-none hover-mint" title="Share this fact via social media or link">
                  <i class="bi bi-share"></i> Share
                </a>
              </div>
            </div>
            <div class="fact-img-wrapper rounded-4 overflow-hidden shadow-sm">
              {% if fact.page_header_image %}
                {% image fact.page_header_image fill-400x300 as bg_img %}
                <img src="{{ bg_img.url }}" class="w-100 h-100 object-fit-cover"
                  alt="{{ fact.alternative_text|default:fact.title }}" />
              {% endif %}
            </div>
            {% endif %}
          </div>
        </div>
        {% endfor %}
      </div>
      {% endif %}
    </div>
  </section>
  <!-- =========================================
         6. LATEST NEWS
    ========================================== -->
  <!-- <section class="section-bg py-5">
    <div class="container">
      <div class="d-flex justify-content-between align-items-end mb-4">
        <div>
          <h2 class="  mb-2">Latest News</h2>
          <p class="text-muted mb-0">
            Stay updated on cash and payment trends<br />worldwide
          </p>
        </div>
        <a href="{% url 'news' %}" class="text-mint fw-bold text-decoration-none small">See all news <i
            class="bi bi-arrow-up-right"></i></a>
      </div> -->

      <!-- <div class="row g-4">
        {% for post in latest_posts %}
        <div class="col-md-4">
          <div class="card h-100 border-0 bg-white news-card rounded-4 overflow-hidden shadow-sm">
            <div class="img-wrapper">
              <a href="{{ post.url_path }}" class="text-decoration-none">
                {% if post.wide_thumbnail %}
                <img src="{{ post.wide_thumbnail.file.url }}" class="w-100 h-100 object-fit-cover transition-img"
                  alt="{{ post.title }}" onerror="this.src='{% static 'images/homepage/featured-fallback.jpg' %}'" />
                {% else %}
                <img src="{% static 'images/homepage/featured-fallback.jpg' %}"
                  class="w-100 h-100 object-fit-cover transition-img" alt="{{ post.title }}" />
                {% endif %}
              </a>
            </div>
            <div class="card-body p-4 d-flex flex-column">
              <div class="d-flex justify-content-between align-items-center mb-3 small">
                <span class="text-muted"><i class="bi bi-clock me-1"></i> {{ post.date|date:"M d, Y" }}</span>
                <span class="badge bg-yellow text-dark rounded-pill px-3 py-2 fw-bold" style="font-size: 0.75rem">{% if post.article_types.first %}{{ post.article_types.first.name }}{% else %}News{% endif %}</span>
              </div>
              {% if post.author_profile %}
              <div class="mb-2 small text-muted d-flex align-items-center">
                {% if post.author_profile.profile_image %}
                {% image post.author_profile.profile_image fill-32x32 as author_thumb %}
                <img src="{{ author_thumb.url }}" class="rounded-circle me-2"
                  style="width: 32px; height: 32px; object-fit: cover;" alt="{{ post.author_profile.name }}">
                {% else %}
                <i class="bi bi-person me-1"></i>
                {% endif %}
                <a href="{% url 'author_profile_by_id' post.author_profile.id %}"
                  class="text-decoration-none text-mint  ">
                  {{ post.author_profile.name }}
                </a>
              </div>
              {% elif post.author %}
              <div class="mb-2 small text-muted d-flex align-items-center">
                {% if post.author_image %}
                <img src="{{ post.author_image.file.url }}" class="rounded-circle me-2"
                  style="width: 32px; height: 32px; object-fit: cover;" alt="{{ post.author }}">
                {% else %}
                <i class="bi bi-person me-1"></i>
                {% endif %}
                <a href="{% url 'author_profile' post.author %}" class="text-decoration-none text-mint  ">
                  {{ post.author }}
                </a>
              </div>
              {% endif %}
              <h5 class="fw-bold mb-4 flex-grow-1">
                {{ post.title }}
              </h5>
                <p class=" mb-4 flex-grow-1" style="font-size: 20px;">
                {{ post.intro|truncatewords:20 }}
              </p>
              <a href="{{ post.url_path }}" class="text-mint fw-bold text-decoration-none small">Read the Story More <i
                  class="bi bi-arrow-up-right ms-1"></i></a>
            </div>
          </div>
        </div>
        {% empty %}
        <div class="col-12">
          <div class="alert alert-info text-center">
            <p class="mb-0">No news articles available yet. Please check back later!</p>
          </div>
        </div>
        {% endfor %}
      </div> -->
 



  <section class="section-bg py-5">

  <style>
    .news-card {
      border-radius: 1rem;
      overflow: hidden;
      height: 280px;
      position: relative;
    }

    .news-card img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .news-card .overlay {
      position: absolute;
      inset: 0;
      background: linear-gradient(to top, rgba(0,0,0,0.8), rgba(0,0,0,0.2));
      z-index: 1;
    }

    .news-card .content {
      position: relative;
      z-index: 2;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: -between;
      padding: 1.5rem;
    }

    .author-thumb {
      width: 32px !important;
      height: 32px !important;
      object-fit: cover;
      border-radius: 50%;
      margin-right: 0.5rem;
      display: none;
    }
  </style>

  <div class="container">

    <!-- Header -->
    <div class="d-flex justify-content-between align-items-end mb-4">
      <div>
        <h2 class="  mb-2">Latest News</h2>
        <p class="text-muted mb-0">
          Stay updated on cash and payment trends<br>worldwide
        </p>
      </div>
      <a href="{% url 'news' %}" class="text-mint   text-decoration-none small" style="font-size: 15px;">
        See all news
      </a>
    </div>

    <!-- News Grid -->
    <div class="row g-4">
      {% for post in latest_posts %}
      <div class="col-md-4">
        <div class="card news-card shadow-sm border-0">

          {% if post.wide_thumbnail %}
            <img src="{{ post.wide_thumbnail.file.url }}"
                 alt="{{ post.title }}"
                 onerror="this.onerror=null;this.src='{% static 'images/homepage/featured-fallback.jpg' %}';">
          {% else %}
            <img src="{% static 'images/homepage/featured-fallback.jpg' %}"
                 alt="{{ post.title }}">
          {% endif %}

          <div class="overlay"></div>

          <!-- Content on Image -->
          <div class="content">

            <!-- Top: Date & Badge -->
            <div class="d-flex justify-content-between align-items-center small text-white-50">
              <!-- <span style="background-color: white;color: #000; border-radius: 10px; padding: 4px 8px;"><i class="bi bi-clock me-1"></i> {{ post.date|date:"M d, Y" }}</span> -->
              <span class="badge bg-yellow text-dark rounded-pill px-3 py-2 fw-bold" style="font-size: 0.75rem">
                {% if post.article_types.first %}{{ post.article_types.first.name }}{% else %}News{% endif %}
              </span>
            </div>

            <!-- Middle: Title & Intro -->
            <div>
              <h5 class="  pt-5 text-white mb-2">{{ post.title }}</h5>
            
            </div>

            <!-- Bottom: Author & Read the Story More -->
            <div class="d-flex mt-5 justify-content-between align-items-center">
         
        
              <a href="{{ post.url_path }}" class=" btn   rounded-2 text-decoration-none small" style="color: black  !important;background-color: #4CD1C2;">
                Read the Story   
              </a>
            </div>

          </div>
        </div>
      </div>
      {% empty %}
      <div class="col-12">
        <div class="alert alert-info text-center">
          <p class="mb-0">No news articles available yet. Please check back later!</p>
        </div>
      </div>
      {% endfor %}
    </div>

  </div>
</section>   

<section class="py-5 pb-5 mb-5">
  <div class="container">

    <div class="row align-items-stretch gy-4">
        <div class="text-cent">
          <p>
            Whatâ€™s Happening Next
          </p> 
          <h1>
            Upcoming Events

          </h1>
        </div>
      <!-- Image Column -->
      <div class="col-12 col-lg-6 d-flex">
        <img  style="object-fit: cover;"
          src="https://static.wixstatic.com/media/26805b_1bfc077f42334893831f82760096e1ad~mv2.jpg/v1/fill/w_2048,h_810,al_c,q_85,usm_0.66_1.00_0.01,enc_avif,quality_auto/26805b_1bfc077f42334893831f82760096e1ad~mv2.jpg" 
          class="img-fluid rounded-4 w-100"
          alt="Global Currency Forum 2026">
      </div>

      <!-- Content Column -->
      <div class="col-12 col-lg-6">

        <h2 class="  mb-3">
          Global Currency Forum 2026
        </h2>
        
        <p class="fs-5 mb-4" style="color: rgba(33, 37, 41, 0.75);">
          The premier international event for the currency industry, convening central bankers, suppliers, and policymakers. The 2026 forum will focus on innovation, sustainability, and securing the future of cash as a vital public infrastructure.
        </p>

        <!-- Location Block -->
        <div class="d-flex gap-3 align-items-start mb-4 flex-sm-row flex-column">
          
          <div class="d-flex align-items-center justify-content-center"
               style="min-width:50px; height:50px; background:#3bbcae; border-radius:50%;">
            <i class="bi bi-geo-alt text-white fs-4"></i>
          </div>

          <div>
            <h5 class="  mb-1">Antalya, TÃ¼rkiye</h5>
            <p class="mb-0" style="color: rgba(33, 37, 41, 0.75);">27-30 April 2026</p>
          </div>
        </div>

        <!-- Button -->
        <a href="https://www.globalcurrencyforum.net/" 
           class="btn btn-mint   px-4 py-2 rounded-3">
          Register Now
        </i>
        </a>

      </div>

    </div>
  </div>
</section>


  <!-- =========================================
         7. SUPPORT CTA
    ========================================== -->
  <section class="support-section text-white overflow-hidden" style="max-height: 700px;">
    <div class="container p-0 h-100">
      <!-- Fluid container to allow image to touch edge -->
      <div class="row g-0 align-items-center h-100">
        <!-- Text Content (Left) -->
        <div class="col-lg-5 py-4">
          <div class="support-content-wrapper ps-lg-5 pe-lg-4 px-4 mx-auto" style="max-width: 650px">
            <h2 class="  mb-3 display-5">Cash Always Works.<br>Just Use It.</h2>
            <p class="mb-4 opacity-90 fw-light fs-5">
              For privacy. For inclusion. For everyday resilience.
            </p>
            <a href="{% url 'support' %}" class="btn btn-mint   rounded-2 px-4 py-2">
              Support Cash  </i>
            </a>
          </div>
        </div>

        <!-- Curved Image (Right) -->
        <div class="col-lg-7 position-relative" style="height: 700px;">
          <div class="curved-mask-wrapper h-100">
            <img src="{% static 'home-page-images/support_our_work.jpg' %}" class="w-100 h-100"
              style="object-fit: cover; object-position: center 40%;" alt="Hands holding coins" />
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- =========================================
         8. FOOTER
    ========================================== -->
<!-- templates/components/bottom_menu.html -->
<div class="bottom_menu">

                    <style>
                      .bottom-menu {
                        padding: 10px 0;
                        box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.3);
                        z-index: 1000;
                      }

                      .bottom-menu a:hover {
                        color: #ddd;
                      }

                      @media (min-width: 992px) {
                        .bottom-menu {
                          display: none !important;

                        }

                      }
                    </style>
                    <nav class="bottom-menu  fixed-bottom d-flex justify-content-around text-white" style="background-color: #001F29;">
                      <a href="{% url 'index' %}" class="text-center text-white text-decoration-none">
                        <i class="bi bi-house-fill"></i><br>Home
                      </a>
                      <a href="{% url 'news' %}" class="text-center text-white text-decoration-none">
                        <i class="bi bi-newspaper"></i><br>News
                      </a>
                      <a href="{% url 'news' %}?category=podcast" class="text-center text-white text-decoration-none small">
                        <i class="bi bi-mic-fill fs-5"></i><br>Podcast
                      </a>

                      <button class="btn text-white p-0 small" type="button" data-bs-toggle="offcanvas" data-bs-target="#mobileMenu"
                        aria-controls="mobileMenu">
                        <i class="bi bi-list fs-5"></i><br>Menu
                      </button>
                    </nav>




                    <div class="offcanvas offcanvas-end" tabindex="-1" id="mobileMenu" aria-labelledby="mobileMenuLabel "
                      style="background-color: #001F29; color: white !important;">
                      <div class="offcanvas-header">
                        <a class="navbar-brand" href="{% url 'index' %}">
                          <img src="{% static 'home-page-images/logo.png' %}" alt="Cash Matters" height="40">
                        </a>
                        <button type="button" class="btn-close btn-close-white text-reset" data-bs-dismiss="offcanvas"
                          aria-label="Close"></button>
                      </div>
                      <div class="offcanvas-body">
                        <ul class="navbar-nav gap-3">
                          <li class="nav-item"><a class="nav-link text-dark" style="color: white !important;" href="{% url 'news' %}">News
                              & Articles</a></li>
                          <li class="nav-item"><a class="nav-link text-dark" style="color: white !important;"
                              href="{% url 'news' %}?category=podcast">Podcast</a></li>
                          <li class="nav-item"><a class="nav-link text-dark" style="color: white !important;"
                              href="{% url 'new_page' %}">Why Cash Matters</a></li>
                          <li class="nav-item"><a class="nav-link text-dark" style="color: white !important;"
                              href="{% url 'about' %}">About Us</a></li>
                          <li class="nav-item mt-2">
                            <a href="{% url 'support' %}" class="btn btn-support-cash w-100">
                              Support Cash 
                            </a>
                          </li>
                        </ul>

                      </div>
                    </div>

</div>


  <footer class="main-footer text-white pt-5 pb-4">
    <div class="container pt-4">
      <div class="row g-5 mb-5">
        <!-- Brand & Social -->
        <div class="col-lg-3 col-md-6">
          <a class="navbar-brand d-inline-block mb-4" href="{% url 'index' %}">
            <img src="{% static 'home-page-images/logo.png' %}" alt="Cash Matters" height="50">
          </a>
          <p class="small mb-4 pe-lg-3" style="font-size: 16px;">
            Cash Matters is an independent initiative dedicated to preserving
            payment choice for everyone.
          </p>
          <!-- Social Icons: LinkedIn, Instagram, TikTok, Facebook, YouTube -->
          <div class="d-flex gap-3">
            <!-- LinkedIn -->
            <a href="https://www.linkedin.com/company/cashmattersorg/" target="_blank" rel="noopener noreferrer"
              class="text-white text-decoration-none hover-u d-flex align-items-center"
              title="Connect with us on LinkedIn">
              <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
              </svg>
            </a>
               <!-- YouTube -->
            <a href="https://www.youtube.com/channel/UCx1y8ZZeAZQTVgvAC0kjtgQ" target="_blank" rel="noopener noreferrer"
              class="text-white text-decoration-none hover-u d-flex align-items-center"
              title="Subscribe to our YouTube channel">
              <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z" />
              </svg>
            </a>
              <!-- TikTok -->
            <a href="https://www.tiktok.com/@cashmatters.int" target="_blank" rel="noopener noreferrer"
              class="text-white text-decoration-none hover-u d-flex align-items-center" title="Follow us on TikTok">
              <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z" />
              </svg>
            </a>
            <!-- Instagram -->
            <a href="https://www.instagram.com/cashmattersorg/" target="_blank" rel="noopener noreferrer"
              class="text-white text-decoration-none hover-u d-flex align-items-center" title="Follow us on Instagram">
              <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
              </svg>
            </a>
          
            <!-- Facebook -->
            <a href="https://www.facebook.com/CashMattersOrg/" target="_blank" rel="noopener noreferrer"
              class="text-white text-decoration-none hover-u d-flex align-items-center" title="Like us on Facebook">
              <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" />
              </svg>
            </a>
         
          </div>
        </div>

        <!-- Navigation Column 1 -->
        <div class="col-lg-2 col-md-3 col-6">
          <ul class="list-unstyled d-flex flex-column gap-3 small">
            <li><a href="{% url 'index' %}" class="text-white text-decoration-none hover-underline">Home</a></li>
            <li><a href="/news/" class="text-white text-decoration-none hover-underline">News & Articles</a></li>
            <li><a href="{% url 'news' %}?category=podcast"
                class="text-white text-decoration-none hover-underline">Podcast</a></li>
            <li><a href="{% url 'write_for_us' %}" class="text-white text-decoration-none hover-underline">
                Publish on<br>Cash Matters
              </a></li>
          </ul>
        </div>

        <!-- Navigation Column 2 -->
        <div class="col-lg-2 col-md-3 col-6">
          <ul class="list-unstyled d-flex flex-column gap-3 small">
            <li><a href="/why-cash-matters/" class="text-white text-decoration-none hover-underline">Why Cash
                Matters</a>
            </li>
            <li><a href="{% url 'about' %}" class="text-white text-decoration-none hover-underline">About Us</a>
            </li>
            <li><a href="{% url 'support' %}" class="text-white text-decoration-none hover-underline">Support
                Cash</a></li>
            <li><a href="https://mail.google.com/mail/?view=cm&fs=1&to=info@cashmatters.org"
                class="text-white text-decoration-none hover-underline" target="_blank"> Contact Us</a> </li>
          </ul>
        </div>

        <div class="col-lg-4 col-md-12">
          <h4 class="  mb-3">Protect Payment Choice</h4>
          <p class="small mb-4 pe-lg-3" style="font-size: 16px;">
            Cash is inclusive, private, and resilient. A payment option that works for everyone, everywhere.
          </p>
          <a href="{% url 'support' %}" class="btn btn-mint   px-4 py-2">Support Cash </a>

        </div>
      </div>

      <!-- ICA Initiative Section -->
      <div class="d-flex flex-column flex-md-row align-items-center justify-content-center gap-3 mb-4 pb-3">
        <span class="footer-ica-text text-center">An initiative by International Currency Association</span>
        <img src="{% static 'images/ICA-logo-white.webp' %}" alt="International Currency Association"
          class="footer-ica-logo" style="height: 40px;">
      </div>

      <!-- Footer Bottom -->
      <div
        class="border-top border-white border-opacity-25 pt-4 d-flex flex-column flex-lg-row justify-content-between align-items-center small gap-3"
        style="opacity: 0.9;">
        <a href="{% url 'privacy' %}"
          class="text-white text-decoration-none  text-center hover-underline text-lg-end">Privacy Policy</a>
        <span class="mb-2 mb-lg-0 text-center text-lg-start hover-underline">
          Â© 2017â€“2026 Cash Matters & International Currency Association
        </span>

        <style>
          .hover-underline {
            position: relative;
            cursor: pointer;
            font-size: 16px;
      font-family: 'Questrial', sans-serif !important;

            padding-bottom: 6px;   /* gap between text & line */

          }

          .hover-underline::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            /* thickness of the line */
            left: 0;
            bottom: 0;
            background-color: rgb(255, 255, 255);
            /* line color */
            transition: width 0.3s ease;
          }

          .hover-underline:hover::after {
            width: 100%;
          }
        </style>

        <span class="mb-2 mb-lg-0 text-center hover-underline">Designed by <a href="https://www.piusfozan.in/"
            target="_blank" rel="noopener noreferrer" class="text-white text-decoration-none hover-u">Pius
            Fozan</a></span>

      </div>
    </div>
  </footer>
  <!-- Search Overlay Modal -->
  {% include 'components/search_overlay.html' %}

  <!-- Cookie Consent Banner -->
  {% include 'components/cookie_consent.html' %}

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

  <!-- Search Overlay Script -->
  <script src="{% static 'js/search-overlay.js' %}"></script>

  <!-- Global link handler: external links open in new tab, internal in same tab -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // External links handler
      document.querySelectorAll('a[href^="http"]').forEach(function (link) {
        if (!link.href.includes(window.location.hostname)) {
          link.setAttribute('target', '_blank');
          link.setAttribute('rel', 'noopener noreferrer');
        }
      });

      // Email protection - reveal and link on click
      document.querySelectorAll('.contact-email').forEach(function (el) {
        el.addEventListener('click', function (e) {
          e.preventDefault();
          var user = this.getAttribute('data-user');
          var domain = this.getAttribute('data-domain');
          var email = user + '@' + domain;
          this.href = 'mailto:' + email;
          window.location.href = 'mailto:' + email;
        });
      });
    });
  </script>

  <script>
    gsap.registerPlugin(ScrollTrigger);
    if (window.innerWidth > 991) {
      ScrollTrigger.create({
        trigger: ".cards-stack-wrapper",
        start: "top top+=100",
        end: "+=1500",
        pin: true,
        scrub: 1,
      });
      let tl = gsap.timeline({
        scrollTrigger: {
          trigger: ".cards-stack-wrapper",
          start: "top top+=100",
          end: "+=1500",
          scrub: 1,
        },
      });
      tl.to(".card-02", { y: "0%", duration: 1, ease: "power2.out" }).to(
        ".card-03",
        { y: "0%", duration: 1, ease: "power2.out" }
      );
    }

    // =========================================
    // HERO CAROUSEL FUNCTIONALITY
    // Supports: Blog, News, Reports (text), Podcast (audio), Interviews (video)
    // =========================================
    (function () {
      // Get hero posts data from JSON
      const heroDataElement = document.getElementById('hero-posts-data');
      if (!heroDataElement) return;

      let heroPosts = [];
      try {
        heroPosts = JSON.parse(heroDataElement.textContent);
      } catch (e) {
        console.error('Failed to parse hero posts data:', e);
        return;
      }

      if (heroPosts.length === 0) return;

      // Elements
      const titleEl = document.getElementById('hero-slide-title');
      const introEl = document.getElementById('hero-slide-intro');
      const linkEl = document.getElementById('hero-slide-link');
      const dateEl = document.getElementById('hero-slide-date');
      const authorEl = document.getElementById('hero-slide-author');
      const authorAvatarEl = document.getElementById('hero-author-avatar');
      const authorLinkEl = document.getElementById('hero-author-link');
      const imageEl = document.getElementById('hero-slide-image');
      const typeBadge = document.getElementById('hero-type-badge');
      const typeIcon = document.getElementById('hero-type-icon');
      const typeText = document.getElementById('hero-type-text');
      const mediaTypeIcon = document.getElementById('hero-media-type-icon');
      const carouselDots = document.getElementById('hero-carousel-dots');
      const prevBtn = document.getElementById('hero-prev');
      const nextBtn = document.getElementById('hero-next');
      const pauseBtn = document.getElementById('hero-pause');
      const pauseIcon = document.getElementById('pause-icon');
      const imageContainer = document.getElementById('hero-media-image');
      const videoContainer = document.getElementById('hero-media-video');

      let currentSlide = 0;
      let autoPlayInterval = null;
      let isPlaying = true;
      const AUTO_PLAY_INTERVAL = 6000; // 6 seconds

      // Content type configurations
      const typeConfig = {
        'blog': { icon: 'bi-pencil-square', label: 'Blog', color: 'type-blog' },
        'news': { icon: 'bi-newspaper', label: 'News', color: 'type-news' },
        'podcast': { icon: 'bi-mic-fill', label: 'Podcast', color: 'type-podcast' },
        'interview': { icon: 'bi-camera-video-fill', label: 'Interview', color: 'type-video' },
        'video': { icon: 'bi-play-circle-fill', label: 'Video', color: 'type-video' },
        'report': { icon: 'bi-file-earmark-text', label: 'Report', color: 'type-report' },
        'studies': { icon: 'bi-graph-up', label: 'Studies', color: 'type-studies' },
        // 'key facts' removed from hero carousel - these should not appear in Cover Story section
        'default': { icon: 'bi-newspaper', label: 'Article', color: 'type-news' }
      };

      function getTypeConfig(type) {
        const lowerType = (type || '').toLowerCase();
        return typeConfig[lowerType] || typeConfig['default'];
      }

      function updateSlide(index, animate = true) {
        if (index < 0 || index >= heroPosts.length) return;

        const post = heroPosts[index];
        const config = getTypeConfig(post.type);

        if (animate) {
          // Fade out animation
          if (titleEl) titleEl.classList.add('fade-out');
          if (introEl) introEl.classList.add('fade-out');
          if (imageEl) imageEl.classList.add('fade-out');

          setTimeout(() => {
            // Update content
            applySlideContent(post, config);

            // Fade in
            if (titleEl) titleEl.classList.remove('fade-out');
            if (introEl) introEl.classList.remove('fade-out');
            if (imageEl) imageEl.classList.remove('fade-out');
          }, 400);
        } else {
          applySlideContent(post, config);
        }

        // Update dots
        updateDots(index);
        currentSlide = index;
      }

      function applySlideContent(post, config) {
        if (titleEl) titleEl.innerHTML = post.title;
        if (introEl) introEl.textContent = post.intro;
        if (linkEl) linkEl.href = post.url;
        if (dateEl) dateEl.innerHTML = '<i class="bi bi-clock me-1"></i>' + post.date;

        if (authorEl) {
          if (post.author) {
            // Build author URL: prefer author_id, fall back to author_name
            var authorUrl = '';
            if (post.author_id) {
              authorUrl = '/author/id/' + post.author_id + '/';
            } else if (post.author_name) {
              authorUrl = '/author/' + encodeURIComponent(post.author_name) + '/';
            }
            authorEl.innerHTML = '<i class=" me-1"></i>' + post.author;
            authorEl.href = authorUrl;
            authorEl.style.display = 'inline';
          } else {
            authorEl.style.display = 'none';
          }
        }

        // Update avatar image and its link when available
        if (authorAvatarEl) {
          if (post.author_image) {
            authorAvatarEl.src = post.author_image;
            authorAvatarEl.style.display = 'inline-block';
            if (authorLinkEl) {
              if (post.author_id) {
                authorLinkEl.href = '/author/id/' + post.author_id + '/';
              } else if (post.author_name) {
                authorLinkEl.href = '/author/' + encodeURIComponent(post.author_name) + '/';
              } else {
                authorLinkEl.href = '#';
              }
            }
          } else {
            // No image provided - keep server-rendered default or hide
            // If no server-side default exists, hide to avoid broken image
            if (!authorAvatarEl.src) {
              authorAvatarEl.style.display = 'none';
            }
          }
        }

        if (imageEl) imageEl.src = post.image;

        // Type badge   always shows "Cover Story" - no dynamic changes needed
        // Keep the static "Cover Story" label regardless of content type
        if (mediaTypeIcon) {
          mediaTypeIcon.innerHTML = '<i class="bi bi-star-fill"></i>';
        }

        // Handle video content
        if (post.has_video && videoContainer && imageContainer) {
          imageContainer.style.display = 'none';
          videoContainer.style.display = 'block';
        } else if (videoContainer && imageContainer) {
          imageContainer.style.display = 'block';
          videoContainer.style.display = 'none';
        }
      }

      function updateDots(index) {
        if (!carouselDots) return;
        const dots = carouselDots.querySelectorAll('.carousel-dot');
        dots.forEach((dot, i) => {
          dot.classList.toggle('active', i === index);
        });
      }

      function nextSlide() {
        const next = (currentSlide + 1) % heroPosts.length;
        updateSlide(next);
      }

      function prevSlide() {
        const prev = (currentSlide - 1 + heroPosts.length) % heroPosts.length;
        updateSlide(prev);
      }

      function startAutoPlay() {
        if (autoPlayInterval) clearInterval(autoPlayInterval);
        autoPlayInterval = setInterval(nextSlide, AUTO_PLAY_INTERVAL);
        isPlaying = true;
        if (pauseIcon) pauseIcon.className = 'bi bi-pause-fill';
      }

      function stopAutoPlay() {
        if (autoPlayInterval) {
          clearInterval(autoPlayInterval);
          autoPlayInterval = null;
        }
        isPlaying = false;
        if (pauseIcon) pauseIcon.className = 'bi bi-play-fill';
      }

      function toggleAutoPlay() {
        if (isPlaying) {
          stopAutoPlay();
        } else {
          startAutoPlay();
        }
      }

      // Event listeners
      if (prevBtn) prevBtn.addEventListener('click', () => { prevSlide(); startAutoPlay(); });
      if (nextBtn) nextBtn.addEventListener('click', () => { nextSlide(); startAutoPlay(); });
      if (pauseBtn) pauseBtn.addEventListener('click', toggleAutoPlay);

      // Dot click handlers
      if (carouselDots) {
        carouselDots.querySelectorAll('.carousel-dot').forEach((dot, i) => {
          dot.addEventListener('click', () => {
            updateSlide(i);
            startAutoPlay();
          });
        });
      }

      // Start autoplay
      if (heroPosts.length > 1) {
        startAutoPlay();
      }

      // Pause on hover
      const heroContainer = document.querySelector('.hero-carousel-container');
      if (heroContainer && heroPosts.length > 1) {
        heroContainer.addEventListener('mouseenter', stopAutoPlay);
        heroContainer.addEventListener('mouseleave', startAutoPlay);
      }

      // Initialize first slide
      updateSlide(0, false);
    })();

    // Video play button functionality (for video slides)
    const playBtn = document.getElementById('play-btn');
    const video = document.getElementById('hero-video');

    if (playBtn && video) {
      playBtn.addEventListener('click', function () {
        video.play().then(() => {
          playBtn.style.display = 'none';
        }).catch(error => {
          console.error('Video play failed:', error);
        });
      });

      video.addEventListener('play', function () {
        playBtn.style.display = 'none';
      });

      video.addEventListener('pause', function () {
        playBtn.style.display = 'flex';
      });

      video.addEventListener('ended', function () {
        playBtn.style.display = 'flex';
      });
    }

    // Podcast section   uses static cards with thumbnails - no video player needed

    // =========================================
    // DOWNLOAD, SHARE, AND PRINT FUNCTIONALITY
    // =========================================

    // Download Report - Shows notification that PDF will be available
    function downloadReport(event, title) {
      event.preventDefault();
      showNotification('Download Started', 'The PDF for "' + title + '" is being prepared. Full download functionality will be available when reports are uploaded to the system.');
    }

    // Share Report - Uses Web Share API with fallback to modal
    function shareReport(event, title, url) {
      event.preventDefault();

      const shareData = {
        title: title + ' - Cash Matters',
        text: 'Check out this research from Cash Matters: ' + title,
        url: url
      };

      // Try Web Share API first (mobile-friendly)
      if (navigator.share) {
        navigator.share(shareData)
          .catch((err) => {
            if (err.name !== 'AbortError') {
              showShareModal(title, url);
            }
          });
      } else {
        // Fallback to custom share modal
        showShareModal(title, url);
      }
    }

    // Share Article - for featured articles carousel
    function shareArticle(event, title, urlPath) {
      event.preventDefault();

      // Construct full URL from relative path
      const fullUrl = window.location.origin + urlPath;

      const shareData = {
        title: title + ' - Cash Matters',
        text: 'Check out this article from Cash Matters: ' + title,
        url: fullUrl
      };

      // Try Web Share API first (mobile-friendly)
      if (navigator.share) {
        navigator.share(shareData)
          .catch((err) => {
            if (err.name !== 'AbortError') {
              showShareModal(title, fullUrl);
            }
          });
      } else {
        // Fallback to custom share modal
        showShareModal(title, fullUrl);
      }
    }

    // Print Report - Opens print dialog for the card
    function printReport(event, cardId) {
      event.preventDefault();
      showNotification('Print', 'Print functionality allows you to print report details. For full print support, please view the complete report page.');
      window.print();
    }

    // Download Key Fact - Downloads fact as image or shows notification
    function downloadKeyFact(event, factId, title) {
      event.preventDefault();
      showNotification('Download Fact Card', 'The fact card "' + title + '" will be downloaded as an image. Full download functionality available on the Key Facts page.');
    }

    // Share Key Fact - Uses Web Share API with fallback
    function shareKeyFact(event, title, url) {
      event.preventDefault();

      const shareData = {
        title: 'Cash Matters Key Fact',
        text: title + ' - Learn more at Cash Matters',
        url: url
      };

      if (navigator.share) {
        navigator.share(shareData)
          .catch((err) => {
            if (err.name !== 'AbortError') {
              showShareModal(title, url);
            }
          });
      } else {
        showShareModal(title, url);
      }
    }

    // Show share modal with social media options
    function showShareModal(title, url) {
      const encodedUrl = encodeURIComponent(url);
      const encodedTitle = encodeURIComponent(title + ' - Cash Matters');
      const encodedText = encodeURIComponent('Check out this resource from Cash Matters: ' + title);

      // Create modal
      const modal = document.createElement('div');
      modal.className = 'share-modal';
      modal.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); display: flex; align-items: center; justify-content: center; z-index: 9999;';

      modal.innerHTML = `
          <div style="background: white; border-radius: 12px; padding: 2rem; max-width: 400px; width: 90%; text-align: center;">
            <h4 style="margin-bottom: 1.5rem; color: #1f2937;">Share this resource</h4>
            <div style="display: flex; justify-content: center; gap: 1rem; margin-bottom: 1.5rem;">
              <a href="https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}" target="_blank" 
                 style="width: 50px; height: 50px; border-radius: 50%; background: #1877f2; color: white; display: flex; align-items: center; justify-content: center; text-decoration: none;">
                <i class="bi bi-facebook" style="font-size: 1.5rem;"></i>
              </a>
              <a href="https://twitter.com/intent/tweet?url=${encodedUrl}&text=${encodedText}" target="_blank"
                 style="width: 50px; height: 50px; border-radius: 50%; background: #000; color: white; display: flex; align-items: center; justify-content: center; text-decoration: none;">
                <i class="bi bi-twitter-x" style="font-size: 1.5rem;"></i>
              </a>
              <a href="https://www.linkedin.com/shareArticle?mini=true&url=${encodedUrl}&title=${encodedTitle}" target="_blank"
                 style="width: 50px; height: 50px; border-radius: 50%; background: #0077b5; color: white; display: flex; align-items: center; justify-content: center; text-decoration: none;">
                <i class="bi bi-linkedin" style="font-size: 1.5rem;"></i>
              </a>
              <a href="https://wa.me/?text=${encodedText}%20${encodedUrl}" target="_blank"
                 style="width: 50px; height: 50px; border-radius: 50%; background: #25d366; color: white; display: flex; align-items: center; justify-content: center; text-decoration: none;">
                <i class="bi bi-whatsapp" style="font-size: 1.5rem;"></i>
              </a>
            </div>
            <div style="margin-bottom: 1rem;">
              <input type="text" value="${url}" readonly 
                     style="width: 100%; padding: 0.5rem; border: 1px solid #e5e7eb; border-radius: 6px; font-size: 0.875rem;"
                     onclick="this.select();">
            </div>
            <button onclick="copyToClipboard('${url}', this)" 
                    style="background: #007d7e; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; font-weight: 500;">
              <i class="bi bi-clipboard me-1"></i> Copy Link
            </button>
            <button onclick="this.closest('.share-modal').remove()" 
                    style="background: #e5e7eb; color: #374151; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; font-weight: 500; margin-left: 0.5rem;">
              Close
            </button>
          </div>
        `;

      // Close on backdrop click
      modal.addEventListener('click', function (e) {
        if (e.target === modal) {
          modal.remove();
        }
      });

      document.body.appendChild(modal);
    }

    // Copy to clipboard function
    function copyToClipboard(text, button) {
      navigator.clipboard.writeText(text).then(function () {
        const originalHTML = button.innerHTML;
        button.innerHTML = '<i class="bi bi-check me-1"></i> Copied!';
        button.style.background = '#10b981';
        setTimeout(function () {
          button.innerHTML = originalHTML;
          button.style.background = '#007d7e';
        }, 2000);
      }).catch(function (err) {
        console.error('Failed to copy: ', err);
        // Fallback for older browsers
        const textArea = document.createElement('textarea');
        textArea.value = text;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);
        button.innerHTML = '<i class="bi bi-check me-1"></i> Copied!';
      });
    }

    // Show notification toast
    function showNotification(title, message) {
      // Remove any existing notifications
      const existing = document.querySelector('.cm-notification');
      if (existing) existing.remove();

      const notification = document.createElement('div');
      notification.className = 'cm-notification';
      notification.style.cssText = 'position: fixed; top: 100px; right: 20px; background: white; border-radius: 12px; padding: 1.5rem; max-width: 350px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); z-index: 9999; animation: slideIn 0.3s ease-out;';
      notification.innerHTML = `
          <div style="display: flex; align-items: flex-start; gap: 1rem;">
            <div style="width: 40px; height: 40px; border-radius: 50%; background: #007d7e; color: white; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
              <i class="bi bi-info-circle" style="font-size: 1.2rem;"></i>
            </div>
            <div style="flex: 1;">
              <h5 style="margin: 0 0 0.5rem 0; font-weight: 600; color: #1f2937;">${title}</h5>
              <p style="margin: 0; font-size: 0.875rem; color: #6b7280; line-height: 1.5;">${message}</p>
            </div>
            <button onclick="this.closest('.cm-notification').remove()" style="background: none; border: none; color: #9ca3af; cursor: pointer; font-size: 1.25rem; padding: 0; line-height: 1;">
              <i class="bi bi-x"></i>
            </button>
          </div>
        `;

      // Add animation keyframes
      if (!document.querySelector('#cm-notification-styles')) {
        const style = document.createElement('style');
        style.id = 'cm-notification-styles';
        style.textContent = '@keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }';
        document.head.appendChild(style);
      }

      document.body.appendChild(notification);

      // Auto-remove after 5 seconds
      setTimeout(function () {
        if (notification.parentNode) {
          notification.style.animation = 'slideIn 0.3s ease-out reverse';
          setTimeout(() => notification.remove(), 300);
        }
      }, 5000);
    }
  </script>

  <!-- Google Translate Integration -->
  <div id="google_translate_element" style="display: none;"></div>
  <script type="text/javascript">
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({
        pageLanguage: 'en',
        includedLanguages: 'en,de,fr,it,es,nl',
        autoDisplay: false
      }, 'google_translate_element');
    }

    function translatePage(lang) {
      var select = document.querySelector('.goog-te-combo');
      if (select) {
        select.value = lang;
        select.dispatchEvent(new Event('change'));
        updateLanguageDisplay(lang);
        localStorage.setItem('preferredLanguage', lang);
      } else {
        setTimeout(function () { translatePage(lang); }, 500);
      }
    }

    function updateLanguageDisplay(lang) {
      var langMap = { 'en': 'EN', 'de': 'DE', 'fr': 'FR', 'it': 'IT', 'es': 'ES', 'nl': 'NL' };
      var displays = document.querySelectorAll('[id^="current-lang"]');
      displays.forEach(function (el) {
        el.textContent = langMap[lang] || 'EN';
      });
      document.querySelectorAll('.lang-switch-btn').forEach(function (btn) {
        btn.classList.remove('active');
        if (btn.getAttribute('data-lang') === lang) {
          btn.classList.add('active');
        }
      });
    }

    document.addEventListener('DOMContentLoaded', function () {
      var savedLang = localStorage.getItem('preferredLanguage');
      if (savedLang && savedLang !== 'en') {
        setTimeout(function () { translatePage(savedLang); }, 1000);
      }
    });
  </script>
  <script type="text/javascript"
    src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
  <script>
    (function() {
        if ('scrollRestoration' in history) { history.scrollRestoration = 'manual'; }
        window.scrollTo(0, 0);
        document.addEventListener('DOMContentLoaded', function() { window.scrollTo(0, 0); });
        window.addEventListener('load', function() {
            window.scrollTo(0, 0);
            document.body.style.top = '0px';
        });
        var observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(m) {
                if (m.attributeName === 'style' && document.body.style.top !== '0px') {
                    document.body.style.top = '0px';
                    window.scrollTo(0, 0);
                }
            });
        });
        document.addEventListener('DOMContentLoaded', function() {
            observer.observe(document.body, { attributes: true, attributeFilter: ['style'] });
        });
    })();
  </script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const featuredBg = document.getElementById('featured-parallax-bg');
    const featuredSection = document.getElementById('featured-hero-section');
    
    // Carousel functionality
    const dots = document.querySelectorAll('.carousel-dot');
    const prevBtn = document.getElementById('featured-prev');
    const nextBtn = document.getElementById('featured-next');
    const pauseBtn = document.getElementById('featured-pause');
    let currentSlide = 0;
    let isPlaying = true;
    let autoplayInterval;
    
    const titleEl = document.getElementById('featured-slide-title');
    const dateEl = document.getElementById('featured-slide-date');
    const authorEl = document.getElementById('featured-slide-author');
    const authorLink = document.getElementById('featured-author-link');
    const authorAvatar = document.getElementById('featured-author-avatar');
    const ctaLink = document.getElementById('featured-slide-link');
    const typeBadgeText = document.getElementById('featured-type-text');

    function updateSlideContent(slideIndex) {
      const activeDot = dots[slideIndex];
      if (!activeDot) return;
      
      // Update background image
      const imageUrl = activeDot.dataset.image || '{% static "images/homepage/featured-fallback.jpg" %}';
      featuredBg.style.backgroundImage = `url('${imageUrl}')`;
      
      // Update title
      if (titleEl) titleEl.textContent = activeDot.dataset.title || 'Cash is simple, safe, and for everyone';
      
      // Update date
      if (dateEl) {
        const dateSpan = dateEl.querySelector('i.bi-clock')?.parentElement || dateEl;
        dateSpan.innerHTML = `<i class="bi bi-clock me-1"></i>${activeDot.dataset.date || 'Latest'}`;
      }
      
      // Update author
      const authorName = activeDot.dataset.author;
      if (authorEl && authorName) {
        authorEl.textContent = authorName;
        authorEl.style.display = '';
        authorEl.href = activeDot.dataset.authorId ? 
          `{% url 'author_profile_by_id' 0 %}`.replace('0', activeDot.dataset.authorId) : '#';
      }
      
      // Update author avatar
      const avatarUrl = activeDot.dataset.authorAvatar;
      if (authorAvatar && avatarUrl) {
        authorAvatar.src = avatarUrl;
      }
      
      // Update CTA link
      if (ctaLink) {
        ctaLink.href = activeDot.dataset.url || '#';
      }
      
      // Update content type badge
      if (typeBadgeText) {
        typeBadgeText.textContent = activeDot.dataset.contentType || 'Cover Story';
      }
      
      // Update active dot
      dots.forEach((dot, i) => {
        dot.classList.toggle('active', i === slideIndex);
      });
    }

    function nextSlide() {
      currentSlide = (currentSlide + 1) % dots.length;
      updateSlideContent(currentSlide);
    }

    function prevSlide() {
      currentSlide = (currentSlide - 1 + dots.length) % dots.length;
      updateSlideContent(currentSlide);
    }

    function startAutoplay() {
      if (autoplayInterval) clearInterval(autoplayInterval);
      autoplayInterval = setInterval(nextSlide, 5000);
      isPlaying = true;
      document.getElementById('pause-icon').classList.remove('bi-play-fill');
      document.getElementById('pause-icon').classList.add('bi-pause-fill');
    }

    function stopAutoplay() {
      clearInterval(autoplayInterval);
      isPlaying = false;
      document.getElementById('pause-icon').classList.remove('bi-pause-fill');
      document.getElementById('pause-icon').classList.add('bi-play-fill');
    }

    // Event listeners
    if (dots.length > 0) {
      dots.forEach((dot, index) => {
        dot.addEventListener('click', function() {
          currentSlide = index;
          updateSlideContent(currentSlide);
        });
      });
    }

    if (prevBtn) {
      prevBtn.addEventListener('click', function() {
        prevSlide();
        if (isPlaying) {
          stopAutoplay();
          startAutoplay();
        }
      });
    }

    if (nextBtn) {
      nextBtn.addEventListener('click', function() {
        nextSlide();
        if (isPlaying) {
          stopAutoplay();
          startAutoplay();
        }
      });
    }

    if (pauseBtn) {
      pauseBtn.addEventListener('click', function() {
        if (isPlaying) {
          stopAutoplay();
        } else {
          startAutoplay();
        }
      });
    }

    // Initialize autoplay
    if (dots.length > 1) {
      startAutoplay();
    }

    // Cleanup on page unload
    window.addEventListener('beforeunload', function() {
      if (autoplayInterval) clearInterval(autoplayInterval);
    });
  });
</script>
</body>

</html>