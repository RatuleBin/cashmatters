<!-- Cookie Consent Banner -->
<div id="cookie-consent-banner" class="cookie-consent-banner" style="display: none;">
    <div class="cookie-consent-content">
        <div class="cookie-consent-text">
            <i class="bi bi-shield-lock me-2"></i>
            <span>
                We use cookies to enhance your experience on our website. By continuing to browse, you agree to our use of cookies. 
                <a href="{% url 'privacy' %}" class="cookie-link">Learn more in our Privacy Policy</a>
            </span>
        </div>
        <div class="cookie-consent-buttons">
            <button type="button" class="btn btn-cookie-decline" id="cookie-decline">Decline</button>
            <button type="button" class="btn btn-cookie-accept" id="cookie-accept">Accept All</button>
        </div>
    </div>
</div>

<style>
/* Cookie Consent Banner Styles */
.cookie-consent-banner {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(135deg, #001F29 0%, #0c3b49 100%);
    color: #fff;
    padding: 1rem 1.5rem;
    z-index: 9999;
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3);
    animation: slideUp 0.4s ease-out;
}

@keyframes slideUp {
    from {
        transform: translateY(100%);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

.cookie-consent-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
}

.cookie-consent-text {
    flex: 1;
    min-width: 280px;
    font-size: 0.95rem;
    line-height: 1.5;
    display: flex;
    align-items: flex-start;
}

.cookie-consent-text i {
    font-size: 1.3rem;
    color: #4CD1C2;
    flex-shrink: 0;
    margin-top: 2px;
}

.cookie-link {
    color: #4CD1C2;
    text-decoration: underline;
    font-weight: 500;
}

.cookie-link:hover {
    color: #3bbcae;
}

.cookie-consent-buttons {
    display: flex;
    gap: 0.75rem;
    flex-shrink: 0;
}

.btn-cookie-accept {
    background-color: #4CD1C2;
    color: #001F29;
    border: none;
    padding: 0.6rem 1.5rem;
    font-weight: 600;
    border-radius: 6px;
    transition: all 0.3s ease;
}

.btn-cookie-accept:hover {
    background-color: #3bbcae;
    transform: translateY(-2px);
}

.btn-cookie-decline {
    background-color: transparent;
    color: #fff;
    border: 1px solid rgba(255, 255, 255, 0.3);
    padding: 0.6rem 1.5rem;
    font-weight: 500;
    border-radius: 6px;
    transition: all 0.3s ease;
}

.btn-cookie-decline:hover {
    background-color: rgba(255, 255, 255, 0.1);
    border-color: #fff;
    color: #fff;
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .cookie-consent-banner {
        padding: 1rem;
    }
    
    .cookie-consent-content {
        flex-direction: column;
        text-align: center;
    }
    
    .cookie-consent-text {
        flex-direction: column;
        align-items: center;
        text-align: center;
    }
    
    .cookie-consent-text i {
        margin-bottom: 0.5rem;
        margin-right: 0 !important;
    }
    
    .cookie-consent-buttons {
        width: 100%;
        justify-content: center;
    }
    
    .btn-cookie-accept,
    .btn-cookie-decline {
        flex: 1;
        max-width: 150px;
    }
}
</style>

<script>
(function() {
    // Check if user has already made a choice
    var cookieConsent = localStorage.getItem('cookieConsent');
    
    if (!cookieConsent) {
        // Show banner after a short delay
        setTimeout(function() {
            document.getElementById('cookie-consent-banner').style.display = 'block';
        }, 1000);
    }
    
    // Accept button handler
    document.getElementById('cookie-accept').addEventListener('click', function() {
        localStorage.setItem('cookieConsent', 'accepted');
        localStorage.setItem('cookieConsentDate', new Date().toISOString());
        hideBanner();
    });
    
    // Decline button handler
    document.getElementById('cookie-decline').addEventListener('click', function() {
        localStorage.setItem('cookieConsent', 'declined');
        localStorage.setItem('cookieConsentDate', new Date().toISOString());
        hideBanner();
    });
    
    function hideBanner() {
        var banner = document.getElementById('cookie-consent-banner');
        banner.style.animation = 'slideDown 0.3s ease-out forwards';
        setTimeout(function() {
            banner.style.display = 'none';
        }, 300);
    }
    
    // Add slideDown animation
    var style = document.createElement('style');
    style.textContent = '@keyframes slideDown { from { transform: translateY(0); opacity: 1; } to { transform: translateY(100%); opacity: 0; } }';
    document.head.appendChild(style);
})();
</script>

